ここページは、 WWA Wing を開発でトラブルを起こさないようにするためのガイドラインです。
コントリビューションの場合は、以下の手順と注意事項をご確認願います。

## チーム外のメンバーで行う場合
まず、気になったことがありましたら [Issue](https://github.com/WWAWing/WWAWing/issues) に作成しましょう。 Issue では主に下記の内容について議論を行う場です。

- バグ
- 新機能追加
- 既存のソースコードの改修
- ロードマップに関する提案
- WWA Wing リポジトリの Wiki の編集要望

WWA Wing では、下記のことに念頭して活動していただくことを期待しています。

- WWAの特徴や特色をなるべく崩さないように開発する
- 見ていてわかりやすいソースコードにする (例: JSDoc の追加)
- すべてのサポートブラウザで正しく動作できるようにする
- より少ないマシンリソースで動作できるようにする

### ソースコードの変更をしたい
新機能追加やリファクタリングを行いたい場合は、通常以下の方法で実施します。

1. WWA Wing リポジトリをフォークします → [フォークを使って作業する - GitHub ヘルプ](https://help.github.com/ja/github/collaborating-with-issues-and-pull-requests/working-with-forks)
2. `develop` ブランチからブランチを作成します
3. 変更を加えます
4. `develop` ブランチへマージするプルリクエストを作成します
5. [WWA Wing Team のメンバー](https://github.com/orgs/WWAWing/people) からレビューを受けます (しばらく時間がかかる場合があります)
6. レビューで問題なければ、プルリクエストをマージします
7. プルリクエストのブランチを削除します

マージ後、 develop ブランチで変更した内容はマイナーバージョンアップ後に取り入れます。
- 💡 マイナーバージョンアップを行うと、バージョン番号の **マイナー** (`3.2.1` の `2` に該当) が1つ上がります。レビュー後、 WWA Wing Team のメンバーが手動で作業を行います。

### レビューについて
ソースコードの品質を保つため、作成したプルリクエストをマージする場合は、事前に WWA Wing Team によるレビューが必要になります。

レビューについては、そもそも変更を加えたソースコードで動作するか、わかりにくい箇所がないか確認します。

問題がなければ、 WWA Wing Team のメンバーの1人が承認 (Approve) します。逆に修正が必要であればフィードバック (Comment あるいは Request changes) を加えます。

## チーム内のメンバーが行う場合
ここからは、 WWA Wing Team のメンバーができることについて記載しています。

### 急遽変更が必要になった
セキュリティやバグの関係ですぐに修正が必要になった場合は、以下の方法で実施します。
ただし、 **バグ修正や小規模の機能追加に限ります** 。

1. `master` ブランチからブランチを作成します
2. 変更を加えます
3. **`master` ブランチへマージする** プルリクエストを作成します
4. WWA Wing Team のメンバーからレビューを受けます
5. レビューで問題なければ、バージョン番号の **バッチ** (`3.2.1` の `1` に該当) を1つ上げます
6. プルリクエストをマージします
7. プルリクエストのブランチを削除します
8. master ブランチから develop ブランチに変更を反映します (**後述を参照**)

### master → develop の変更を反映したい
1. develop ブランチを pull して develop ブランチの内容を最新の内容に更新します
2. develop ブランチからブランチを作成します
3. master ブランチから `2.` のブランチにマージします
4. **develop ブランチへマージする** プルリクエストを作成します
5. WWA Wing Team のメンバーからレビューを受けます (見るだけですので、大抵の場合は承認されるはず)
6. レビューで問題なければ、プルリクエストをマージします
7. プルリクエストのブランチを削除します

### バージョンを上げたい
バージョンアップ前に、変更が済ませていることを確認し、下記のコマンドを実行します。

```
npm run publish:all
```

その後、変更後のバージョンを入力して完了させます。すると、バージョン変更の分がコミットされます。
